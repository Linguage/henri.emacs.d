# Emacs Octave Mode 使用教程

## 1. 基本说明

Octave mode 为 GNU Octave/MATLAB 脚本开发提供语法高亮、缩进、补全、调试等功能。  
本教程基于 `init-octave.el` 配置，适用于 Emacs 29+。

## 2. 启动与文件关联

- 打开 `.m` 文件自动进入 `octave-mode`。
- 手动切换：`M-x octave-mode`

## 3. 主要功能与快捷键

| 功能             | 快捷键             | 说明                       |
|------------------|--------------------|----------------------------|
| 启动 REPL        | `C-c C-i`          | 打开交互式 Octave 终端     |
| 运行选区         | `C-c C-r`          | 发送选中区域到 Octave      |
| 运行缓冲区       | `C-c C-b`          | 运行整个文件               |
| 运行当前函数     | `C-c C-f`          | 运行光标所在函数           |
| 运行当前行       | `C-c C-l`          | 运行当前行                 |
| 终止 Octave      | `C-c C-k`          | 终止 Octave 进程           |
| 查看帮助         | `C-c C-h`          | Octave 帮助文档            |
| 跳转到定义       | `M-.`              | 跳转到函数/变量定义        |
| 返回上一个位置   | `M-,`              | 返回跳转前位置             |

## 4. 代码补全与语法检查

- 自动补全：输入时自动弹出，或 `M-/` 补全。
- 语法检查：保存或编辑时自动检查。

## 5. 代码格式化

| 功能             | 快捷键             |
|------------------|--------------------|
| 格式化缓冲区     | `C-c C-q`          |
| 格式化选区       | `C-c C-u`          |

## 6. 调试支持

| 功能             | 快捷键             |
|------------------|--------------------|
| 设置断点         | `<f9>`             |
| 清除所有断点     | `S-<f9>`           |
| 单步调试         | `<f10>`            |
| 继续执行         | `<f11>`            |
| 调试当前文件     | `C-<f5>`           |

## 7. 模板与代码片段

| 功能             | 快捷键             |
|------------------|--------------------|
| 插入函数模板     | `C-c C-t f`        |
| 插入脚本模板     | `C-c C-t s`        |
| 运行测试         | `C-c C-t t`        |

## 8. 项目管理

| 功能             | 快捷键             |
|------------------|--------------------|
| 设置项目目录     | `C-c C-p s`        |
| 清除工作空间     | `C-c C-p c`        |

## 9. 其他增强

| 功能             | 快捷键             |
|------------------|--------------------|
| 显示函数帮助     | `C-c C-?`          |

---

## 10. 常见问题

- **Octave 未安装？**  
  请先通过包管理器安装 Octave（如 `brew install octave`）。
- **快捷键冲突？**  
  可自定义 `init-octave.el` 中的绑定。

---

如需更多帮助，参见 Octave 官方文档或 Emacs 手册。
